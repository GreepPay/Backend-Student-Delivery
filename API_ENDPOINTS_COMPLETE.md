# üìã Complete API Endpoints List

## üîó Base URL: `http://localhost:3001`

---

## üîê **Authentication Endpoints** (`/api/auth`)

| Method | Endpoint                     | Description                       | Auth Required |
| ------ | ---------------------------- | --------------------------------- | ------------- |
| `POST` | `/api/auth/send-otp`         | Send OTP for authentication       | ‚ùå            |
| `POST` | `/api/auth/verify-otp`       | Verify OTP and login              | ‚ùå            |
| `POST` | `/api/auth/resend-otp`       | Resend OTP                        | ‚ùå            |
| `GET`  | `/api/auth/can-request-otp`  | Check if can request OTP          | ‚ùå            |
| `POST` | `/api/auth/logout`           | Logout user                       | ‚úÖ            |
| `POST` | `/api/auth/refresh-token`    | Refresh access token              | ‚úÖ            |
| `GET`  | `/api/auth/profile`          | Get authenticated user profile    | ‚úÖ            |
| `PUT`  | `/api/auth/profile`          | Update authenticated user profile | ‚úÖ            |
| `POST` | `/api/auth/change-password`  | Change user password              | ‚úÖ            |
| `GET`  | `/api/auth/validate-session` | Validate current session          | ‚úÖ            |
| `GET`  | `/api/auth/stats`            | Get authentication stats          | ‚úÖ            |
| `POST` | `/api/auth/cleanup-otps`     | Cleanup expired OTPs              | ‚úÖ            |

---

## üöó **Driver Endpoints** (`/api/driver`)

### **Profile & Dashboard**

| Method | Endpoint                                     | Description                                     | Auth Required |
| ------ | -------------------------------------------- | ----------------------------------------------- | ------------- |
| `GET`  | `/api/driver/dashboard?period=today`         | Driver dashboard (today)                        | ‚úÖ            |
| `GET`  | `/api/driver/dashboard?period=thisWeek`      | Driver dashboard (this week)                    | ‚úÖ            |
| `GET`  | `/api/driver/dashboard?period=currentPeriod` | Driver dashboard (current period)               | ‚úÖ            |
| `GET`  | `/api/driver/dashboard?period=allTime`       | Driver dashboard (all time)                     | ‚úÖ            |
| `GET`  | `/api/driver/profile`                        | Get driver profile                              | ‚úÖ            |
| `PUT`  | `/api/driver/profile`                        | Update driver profile                           | ‚úÖ            |
| `POST` | `/api/driver/profile/debug`                  | Debug profile requests                          | ‚úÖ            |
| `GET`  | `/api/driver/profile-options`                | Get profile options (universities, areas, etc.) | ‚ùå            |

### **Status & Activity**

| Method | Endpoint                    | Description               | Auth Required |
| ------ | --------------------------- | ------------------------- | ------------- |
| `POST` | `/api/driver/toggle-online` | Toggle online status      | ‚úÖ            |
| `POST` | `/api/driver/toggle-active` | Toggle active status      | ‚úÖ            |
| `GET`  | `/api/driver/status`        | Get driver status         | ‚úÖ            |
| `PUT`  | `/api/driver/deactivate`    | Deactivate driver account | ‚úÖ            |

### **Analytics & Performance**

| Method | Endpoint                                | Description                  | Auth Required |
| ------ | --------------------------------------- | ---------------------------- | ------------- |
| `GET`  | `/api/driver/analytics?period=today`    | Driver analytics (today)     | ‚úÖ            |
| `GET`  | `/api/driver/analytics?period=thisWeek` | Driver analytics (this week) | ‚úÖ            |
| `GET`  | `/api/driver/analytics?period=month`    | Driver analytics (month)     | ‚úÖ            |
| `GET`  | `/api/driver/earnings?period=monthly`   | Driver earnings data         | ‚úÖ            |
| `GET`  | `/api/driver/performance`               | Driver performance metrics   | ‚úÖ            |
| `GET`  | `/api/driver/leaderboard`               | Driver leaderboard           | ‚úÖ            |

### **Deliveries**

| Method | Endpoint                                    | Description            | Auth Required |
| ------ | ------------------------------------------- | ---------------------- | ------------- |
| `GET`  | `/api/driver/deliveries?limit=10`           | Get driver deliveries  | ‚úÖ            |
| `GET`  | `/api/driver/deliveries/nearby`             | Get nearby deliveries  | ‚úÖ            |
| `GET`  | `/api/driver/deliveries/:deliveryId`        | Get specific delivery  | ‚úÖ            |
| `PUT`  | `/api/driver/deliveries/:deliveryId/status` | Update delivery status | ‚úÖ            |

### **Documents & Images**

| Method | Endpoint                                     | Description                        | Auth Required |
| ------ | -------------------------------------------- | ---------------------------------- | ------------- |
| `POST` | `/api/driver/documents/:documentType/upload` | Upload document                    | ‚úÖ            |
| `POST` | `/api/driver/profile/picture`                | Upload profile picture             | ‚úÖ            |
| `POST` | `/api/driver/profile/image`                  | Upload profile image (alternative) | ‚úÖ            |

### **Notifications**

| Method | Endpoint                                         | Description                    | Auth Required |
| ------ | ------------------------------------------------ | ------------------------------ | ------------- |
| `GET`  | `/api/driver/notifications`                      | Get driver notifications       | ‚úÖ            |
| `GET`  | `/api/driver/notifications/unread-count`         | Get unread notification count  | ‚úÖ            |
| `PUT`  | `/api/driver/notifications/:notificationId/read` | Mark notification as read      | ‚úÖ            |
| `PUT`  | `/api/driver/notifications/mark-all-read`        | Mark all notifications as read | ‚úÖ            |

---

## üë®‚Äçüíº **Admin Endpoints** (`/api/admin`)

### **Dashboard & Analytics**

| Method | Endpoint                 | Description        | Auth Required |
| ------ | ------------------------ | ------------------ | ------------- |
| `GET`  | `/api/admin/dashboard`   | Admin dashboard    | ‚úÖ Admin      |
| `GET`  | `/api/admin/stats`       | System statistics  | ‚úÖ Admin      |
| `GET`  | `/api/admin/analytics`   | Detailed analytics | ‚úÖ Admin      |
| `GET`  | `/api/admin/export`      | Export data        | ‚úÖ Admin      |
| `GET`  | `/api/admin/leaderboard` | Driver leaderboard | ‚úÖ Admin      |

### **Admin Management**

| Method   | Endpoint                | Description              | Auth Required  |
| -------- | ----------------------- | ------------------------ | -------------- |
| `GET`    | `/api/admin/admins`     | Get all admins           | ‚úÖ Super Admin |
| `POST`   | `/api/admin/admins`     | Create new admin         | ‚úÖ Super Admin |
| `PUT`    | `/api/admin/admins/:id` | Update admin             | ‚úÖ Super Admin |
| `DELETE` | `/api/admin/admins/:id` | Delete admin             | ‚úÖ Super Admin |
| `POST`   | `/api/admin/test-email` | Test email functionality | ‚úÖ Super Admin |

### **Driver Management**

| Method   | Endpoint                                               | Description                | Auth Required |
| -------- | ------------------------------------------------------ | -------------------------- | ------------- |
| `GET`    | `/api/admin/drivers`                                   | Get all drivers            | ‚úÖ Admin      |
| `GET`    | `/api/admin/drivers/:id`                               | Get specific driver        | ‚úÖ Admin      |
| `POST`   | `/api/admin/drivers`                                   | Create new driver          | ‚úÖ Admin      |
| `PUT`    | `/api/admin/drivers/:id`                               | Update driver              | ‚úÖ Admin      |
| `DELETE` | `/api/admin/drivers/:id`                               | Delete driver              | ‚úÖ Admin      |
| `POST`   | `/api/admin/drivers/:id/suspend`                       | Suspend driver             | ‚úÖ Admin      |
| `POST`   | `/api/admin/drivers/:id/unsuspend`                     | Unsuspend driver           | ‚úÖ Admin      |
| `PUT`    | `/api/admin/drivers/:id/verification`                  | Update driver verification | ‚úÖ Admin      |
| `GET`    | `/api/admin/drivers/:driverId/status`                  | Get driver status          | ‚úÖ Admin      |
| `PUT`    | `/api/admin/drivers/:driverId/documents/:documentType` | Update driver document     | ‚úÖ Admin      |
| `POST`   | `/api/admin/drivers/bulk`                              | Bulk driver operations     | ‚úÖ Admin      |
| `GET`    | `/api/admin/drivers/area/:area`                        | Get drivers by area        | ‚úÖ Admin      |

### **Driver Analytics (Admin)**

| Method | Endpoint                                   | Description        | Auth Required |
| ------ | ------------------------------------------ | ------------------ | ------------- |
| `GET`  | `/api/admin/drivers/:driverId/analytics`   | Driver analytics   | ‚úÖ Admin      |
| `GET`  | `/api/admin/drivers/:driverId/earnings`    | Driver earnings    | ‚úÖ Admin      |
| `GET`  | `/api/admin/drivers/:driverId/deliveries`  | Driver deliveries  | ‚úÖ Admin      |
| `GET`  | `/api/admin/drivers/:driverId/performance` | Driver performance | ‚úÖ Admin      |
| `POST` | `/api/admin/drivers/:driverId/send-report` | Send driver report | ‚úÖ Admin      |

### **Delivery Management**

| Method   | Endpoint                             | Description              | Auth Required |
| -------- | ------------------------------------ | ------------------------ | ------------- |
| `GET`    | `/api/admin/deliveries`              | Get all deliveries       | ‚úÖ Admin      |
| `GET`    | `/api/admin/deliveries/stats`        | Delivery statistics      | ‚úÖ Admin      |
| `GET`    | `/api/admin/deliveries/:id`          | Get specific delivery    | ‚úÖ Admin      |
| `POST`   | `/api/admin/deliveries`              | Create new delivery      | ‚úÖ Admin      |
| `PUT`    | `/api/admin/deliveries/:id`          | Update delivery          | ‚úÖ Admin      |
| `DELETE` | `/api/admin/deliveries/:id`          | Delete delivery          | ‚úÖ Admin      |
| `POST`   | `/api/admin/deliveries/:id/assign`   | Assign delivery          | ‚úÖ Admin      |
| `POST`   | `/api/admin/deliveries/:id/unassign` | Unassign delivery        | ‚úÖ Admin      |
| `POST`   | `/api/admin/deliveries/bulk`         | Bulk delivery operations | ‚úÖ Admin      |

### **Notifications (Admin)**

| Method   | Endpoint                                        | Description                  | Auth Required |
| -------- | ----------------------------------------------- | ---------------------------- | ------------- |
| `GET`    | `/api/admin/notifications`                      | Get notifications            | ‚úÖ Admin      |
| `GET`    | `/api/admin/notifications/unread-count`         | Get unread count             | ‚úÖ Admin      |
| `PUT`    | `/api/admin/notifications/:notificationId/read` | Mark as read                 | ‚úÖ Admin      |
| `PUT`    | `/api/admin/notifications/mark-all-read`        | Mark all as read             | ‚úÖ Admin      |
| `DELETE` | `/api/admin/notifications/:notificationId`      | Delete notification          | ‚úÖ Admin      |
| `POST`   | `/api/admin/notifications/system`               | Create system notification   | ‚úÖ Admin      |
| `GET`    | `/api/admin/notifications/stats`                | Notification statistics      | ‚úÖ Admin      |
| `POST`   | `/api/admin/notifications/bulk`                 | Bulk notification operations | ‚úÖ Admin      |

### **Admin Notifications**

| Method   | Endpoint                                              | Description                          | Auth Required |
| -------- | ----------------------------------------------------- | ------------------------------------ | ------------- |
| `GET`    | `/api/admin/admin-notifications`                      | Get admin notifications              | ‚úÖ Admin      |
| `GET`    | `/api/admin/admin-notifications/stats`                | Admin notification stats             | ‚úÖ Admin      |
| `PUT`    | `/api/admin/admin-notifications/:notificationId/read` | Mark admin notification as read      | ‚úÖ Admin      |
| `PUT`    | `/api/admin/admin-notifications/mark-all-read`        | Mark all admin notifications as read | ‚úÖ Admin      |
| `DELETE` | `/api/admin/admin-notifications/:notificationId`      | Delete admin notification            | ‚úÖ Admin      |

### **System Maintenance**

| Method | Endpoint                              | Description                   | Auth Required  |
| ------ | ------------------------------------- | ----------------------------- | -------------- |
| `GET`  | `/api/admin/activity-logs`            | Get activity logs             | ‚úÖ Super Admin |
| `POST` | `/api/admin/maintenance`              | System maintenance            | ‚úÖ Super Admin |
| `POST` | `/api/admin/recalculate-driver-stats` | Recalculate driver statistics | ‚úÖ Super Admin |

---

## üì¶ **Delivery Endpoints** (`/api/delivery`)

| Method | Endpoint                            | Description                | Auth Required |
| ------ | ----------------------------------- | -------------------------- | ------------- |
| `GET`  | `/api/delivery/track/:deliveryCode` | Track delivery by code     | ‚ùå            |
| `GET`  | `/api/delivery/public/stats`        | Public delivery statistics | ‚ùå            |
| `GET`  | `/api/delivery/:id`                 | Get specific delivery      | ‚úÖ            |
| `GET`  | `/api/delivery/`                    | Get deliveries             | ‚úÖ            |
| `POST` | `/api/delivery/test-notification`   | Test notification system   | ‚úÖ            |

---

## üì¢ **Notifications Endpoints** (`/api/notifications`)

| Method   | Endpoint                                  | Description                    | Auth Required |
| -------- | ----------------------------------------- | ------------------------------ | ------------- |
| `GET`    | `/api/notifications/`                     | Get notifications              | ‚úÖ            |
| `GET`    | `/api/notifications/unread-count`         | Get unread notification count  | ‚úÖ            |
| `PUT`    | `/api/notifications/:notificationId/read` | Mark notification as read      | ‚úÖ            |
| `PUT`    | `/api/notifications/mark-all-read`        | Mark all notifications as read | ‚úÖ            |
| `DELETE` | `/api/notifications/:notificationId`      | Delete notification            | ‚úÖ Admin      |
| `POST`   | `/api/notifications/system`               | Create system notification     | ‚úÖ Admin      |
| `GET`    | `/api/notifications/stats`                | Notification statistics        | ‚úÖ Admin      |

---

## üí∞ **Earnings Config Endpoints** (`/api/earnings-config`)

| Method   | Endpoint                                | Description                       | Auth Required |
| -------- | --------------------------------------- | --------------------------------- | ------------- |
| `GET`    | `/api/earnings-config/active`           | Get active earnings configuration | ‚úÖ            |
| `GET`    | `/api/earnings-config/`                 | Get all earnings configurations   | ‚úÖ Admin      |
| `POST`   | `/api/earnings-config/`                 | Create earnings configuration     | ‚úÖ Admin      |
| `PUT`    | `/api/earnings-config/:configId`        | Update earnings configuration     | ‚úÖ Admin      |
| `DELETE` | `/api/earnings-config/:configId`        | Delete earnings configuration     | ‚úÖ Admin      |
| `POST`   | `/api/earnings-config/test-calculation` | Test earnings calculation         | ‚úÖ Admin      |
| `POST`   | `/api/earnings-config/bulk-update`      | Bulk update earnings              | ‚úÖ Admin      |
| `GET`    | `/api/earnings-config/stats`            | Earnings statistics               | ‚úÖ Admin      |

---

## ‚≠ê **Driver Rating Endpoints** (`/api/driver-rating`)

| Method | Endpoint                              | Description             | Auth Required |
| ------ | ------------------------------------- | ----------------------- | ------------- |
| `GET`  | `/api/driver-rating/driver/:driverId` | Calculate driver rating | ‚úÖ            |

---

## ‚öôÔ∏è **System Settings Endpoints** (`/api/system-settings`)

| Method | Endpoint                               | Description                | Auth Required |
| ------ | -------------------------------------- | -------------------------- | ------------- |
| `GET`  | `/api/system-settings/admin`           | Get admin settings         | ‚úÖ Admin      |
| `GET`  | `/api/system-settings/admin/:category` | Get category settings      | ‚úÖ Admin      |
| `PUT`  | `/api/system-settings/admin`           | Update admin settings      | ‚úÖ Admin      |
| `PUT`  | `/api/system-settings/admin/:category` | Update category settings   | ‚úÖ Admin      |
| `POST` | `/api/system-settings/admin/reset`     | Reset settings to defaults | ‚úÖ Admin      |
| `GET`  | `/api/system-settings/driver`          | Get driver settings        | ‚úÖ            |
| `GET`  | `/api/system-settings/public`          | Get public settings        | ‚ùå            |

---

## üí≥ **Remittance Endpoints** (`/api/remittance`)

| Method  | Endpoint                                   | Description                     | Auth Required |
| ------- | ------------------------------------------ | ------------------------------- | ------------- |
| `GET`   | `/api/remittance/`                         | Get all remittances             | ‚úÖ Admin      |
| `GET`   | `/api/remittance/pending`                  | Get pending remittances         | ‚úÖ Admin      |
| `GET`   | `/api/remittance/stats`                    | Get remittance statistics       | ‚úÖ Admin      |
| `POST`  | `/api/remittance/calculate/:driverId`      | Calculate remittance for driver | ‚úÖ Admin      |
| `GET`   | `/api/remittance/unsettled/:driverId`      | Get unsettled deliveries        | ‚úÖ Admin      |
| `PATCH` | `/api/remittance/:remittanceId/complete`   | Complete remittance             | ‚úÖ Admin      |
| `PATCH` | `/api/remittance/:remittanceId/cancel`     | Cancel remittance               | ‚úÖ Admin      |
| `GET`   | `/api/remittance/driver/:driverId`         | Get driver remittances          | ‚úÖ            |
| `GET`   | `/api/remittance/driver/:driverId/summary` | Get driver remittance summary   | ‚úÖ            |
| `GET`   | `/api/remittance/payment-structure`        | Get payment structure           | ‚úÖ            |

---

## üåç **Public Endpoints** (`/api/public`)

| Method | Endpoint                          | Description            | Auth Required |
| ------ | --------------------------------- | ---------------------- | ------------- |
| `GET`  | `/api/public/track/:deliveryCode` | Track delivery by code | ‚ùå            |
| `GET`  | `/api/public/user/:id/status`     | Get user status        | ‚ùå            |
| `GET`  | `/api/public/user/:id/join-date`  | Get user join date     | ‚ùå            |
| `GET`  | `/api/public/profile-options`     | Get profile options    | ‚ùå            |

---

## üè• **System Health Endpoints**

| Method | Endpoint  | Description         | Auth Required |
| ------ | --------- | ------------------- | ------------- |
| `GET`  | `/health` | System health check | ‚ùå            |
| `GET`  | `/`       | API information     | ‚ùå            |

---

## üìä **Summary by Category**

- **üîê Authentication**: 12 endpoints
- **üöó Driver**: 25 endpoints
- **üë®‚Äçüíº Admin**: 45+ endpoints
- **üì¶ Delivery**: 5 endpoints
- **üì¢ Notifications**: 7 endpoints
- **üí∞ Earnings Config**: 8 endpoints
- **‚≠ê Driver Rating**: 1 endpoint
- **‚öôÔ∏è System Settings**: 7 endpoints
- **üí≥ Remittance**: 10 endpoints
- **üåç Public**: 4 endpoints
- **üè• System Health**: 2 endpoints

**üéØ Total: 126+ API endpoints**

---

## üîë **Authentication Types**

- ‚ùå **No Auth Required**: Public endpoints
- ‚úÖ **User Auth**: Requires valid JWT token
- ‚úÖ **Admin**: Requires admin privileges
- ‚úÖ **Super Admin**: Requires super admin privileges

---

## üéØ **Key Dashboard Endpoints You Requested**

‚úÖ **Working Dashboard Endpoints:**

- `GET /api/driver/dashboard?period=today`
- `GET /api/driver/dashboard?period=thisWeek`
- `GET /api/driver/dashboard?period=currentPeriod`
- `GET /api/driver/dashboard?period=allTime`

All endpoints are now properly configured and ready for your frontend! üöÄ
